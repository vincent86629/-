<div id="page-wrapper">
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">財務報表管理</h1>
        </div>
    </div>
    <!-- /.panel-heading -->
    <div class="panel-body">
        <div class="row">
            <div class="col-sm-3">
                <mat-form-field>
                    <mat-select placeholder="年月" [(ngModel)]="search.yearMonth">
                        <mat-option *ngFor="let option of yearMonthOptions" [value]="option.value">
                            {{option.text}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div class="col-sm-3">
                <mat-form-field>
                    <mat-select placeholder="社區" [(ngModel)]="search.communityId">
                        <mat-option *ngFor="let option of permissionOptions" [value]="option.value">
                            {{option.text}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div class="col-sm-3">
                <mat-form-field>
                    <mat-select placeholder="狀態" [(ngModel)]="search.statusId">
                        <mat-option *ngFor="let option of statusOptions" [value]="option.value">
                            {{option.text}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
            <div class="col-sm-3" style="text-align: right;">
                <button mat-button mat-stroked-button color="primary" (click)='createReport()'>新增報表</button>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-3">
                <mat-form-field>
                    <input matInput placeholder="建立者" [(ngModel)]="search.createBy">
                </mat-form-field>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12">
                <button class="col-sm-3" mat-button mat-raised-button color="primary" (click)='getData()'>查詢</button>
            </div>
        </div>
        <div class="table-responsive">
            <div class="table-responsive">
                <table class="table" mat-table [dataSource]="dataSource" matSort>
                    <!-- 定義欄位 -->
                    <ng-container matColumnDef="id">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> ID </th>
                        <td mat-cell *matCellDef="let row"> {{row.id}} </td>
                    </ng-container>
                    <!-- 定義欄位 -->
                    <ng-container matColumnDef="yearMonth">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> 年月 </th>
                        <td mat-cell *matCellDef="let row"> {{row.yearMonth}} </td>
                    </ng-container>
                    <!-- 定義欄位 -->
                    <ng-container matColumnDef="community">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> 社區 </th>
                        <td mat-cell *matCellDef="let row"> {{row.community}} </td>
                    </ng-container>
                    <!-- 定義欄位 -->
                    <ng-container matColumnDef="createBy">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> 建立者 </th>
                        <td mat-cell *matCellDef="let row"> {{row.createBy}} </td>
                    </ng-container>
                    <!-- 定義欄位 -->
                    <ng-container matColumnDef="updateTime">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> 最後更新時間 </th>
                        <td mat-cell *matCellDef="let row"> {{row.updateTime}} </td>
                    </ng-container>
                    <!-- 定義欄位 -->
                    <ng-container matColumnDef="status">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> 狀態 </th>
                        <td mat-cell *matCellDef="let row"> {{row.status}} </td>
                    </ng-container>
                    <!-- 定義欄位 -->
                    <ng-container matColumnDef="operater">
                        <th mat-header-cell *matHeaderCellDef> 操作 </th>
                        <td mat-cell *matCellDef="let row">
                            <i class="material-icons btn btn-outline btn-primary" (click)='goEdit(row)' matTooltip="編輯">edit</i>
                        </td>
                    </ng-container>

                    <!-- 表頭 -->
                    <tr mat-header-row *matHeaderRowDef="['id', 'yearMonth', 'community', 'createBy', 'updateTime', 'status', 'operater']">
                    </tr>
                    <!-- 內容 -->
                    <tr mat-row [ngClass]="{'table_Zebra': index%2 == 0}" *matRowDef="let row;let index = index; columns: ['id', 'yearMonth', 'community', 'createBy', 'updateTime', 'status', 'operater'];">
                    </tr>
                </table>
                <mat-paginator [pageSizeOptions]="[10, 30, 50]" showFirstLastButtons></mat-paginator>
            </div>
        </div>
        <!-- /.table-responsive -->
    </div>
    <!-- /.panel-body -->
</div>
<!-- /.panel -->